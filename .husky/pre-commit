#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Validando cÃ³digo antes del commit..."

# Validate Frontend
echo "ğŸ“¦ Frontend: Compilando TypeScript..."
cd frontend && npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Frontend build fallÃ³"
  exit 1
fi
cd ..

# Validate Backend (Node.js - just check syntax)
echo "ğŸ”§ Backend: Verificando sintaxis..."
cd backend-node && node -c src/index.js
if [ $? -ne 0 ]; then
  echo "âŒ Backend syntax error"
  exit 1
fi
cd ..

echo "âœ… Todo validado correctamente!"
